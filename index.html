<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON-UI Builder</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div class="importers">
        <label class="ui_textures_importer">
            <input title="Import Textures" type="file" id="ui_textures_importer"
                onchange="Builder.handleUiTexturesUpload()" webkitdirectory directory multiple />
            Import Textures
        </label>

        <label class="form_importer">
            <input title="Upload Form" type="file" id="form_importer" onchange="Builder.uploadForm()" accept=".json" />
            Upload Form
        </label>
    </div>

    <img src="icons/help.webp" class="help_button" onclick="Builder.openHelpMenu()"></img>

    <a href="https://discord.gg/zqfNbYCcA9" class="discord_link"><img src="icons/discord.webp" class="discord_icon"></a>

    <div class="presetTextures" onclick="Builder.texturePresetsModal()">Preset Textures</div>


    <button class="modalSettingsBtn" id="modalSettingsBtn">
        <label class="settings_label">
            Settings
        </label>

        <img class="settings_img" src="icons/settings_cog.webp"></img>
    </button>

    <input style="margin-left: 20px;" id="ui_scale_slider" type="range" min="10" max="100">

    <!-- The Settings Modal -->
    <div id="modalSettings" class="modal">
        <div class="modal-content">
            <span id="modalSettingsClose" class="modalClose">&times;</span>
            <h2 class="modalHeader">Settings</h2>
            <div class="modalSettingsForm">

            </div>
        </div>
    </div>
    <!--------------->

    <!-- The Add Button Modal -->
    <div id="modalAddButton" class="modal">
        <div class="modal-content">
            <span id="modalAddButtonClose" class="modalClose">&times;</span>
            <h2 class="modalHeader">Add Button</h2>
            <div class="modalAddButtonForm">

            </div>
        </div>
    </div>
    <!--------------->

    <!-- The Create Form Modal -->
    <div id="modalCreateForm" class="modal">
        <div class="modal-content">
            <h2 class="modalHeader">Create Form</h2>
            <div class="modalCreateFormForm">

            </div>
        </div>
    </div>
    <!--------------->

    <!-- The Load Texture Presets Modal -->
    <div id="modalLoadTexturePresets" class="modal">
        <div class="modal-content">
            <span id="modalLoadTexturePresetsClose" class="modalClose">&times;</span>
            <h2 class="modalHeader">Load Texture Presets</h2>
            <div class="modalLoadTexturePresetsForm">

            </div>
        </div>
    </div>
    <!--------------->

    <!-- The Help Menu Modal -->
    <div id="modalHelpMenu" class="modal">
        <div class="modal-content">
            <span id="modalHelpMenuClose" class="modalClose">&times;</span>
            <h2 class="modalHeader">Help</h2>
            <div class="modalHelpMenuForm">
                <label style="font-weight: 500; color: rgb(255, 255, 255);">Key Binds:</label><br><br>

                <label class="modalOptionLabel">
                    CTRL + c: <b>Copy</b><br>
                    CTRL + v: <b>Paste</b><br>
                    CTRL + x: <b>Cut</b><br>
                    Tab: <b>Indent</b><br>
                    Del: <b>Delete</b><br>
                    Tab | Enter: <b>Autocomplete</b><br>
                    Arrow Keys: <b>Move</b>
                </label><br><br><br>

                <label style="font-weight: 500; color: rgb(255, 255, 255); font-size: 20px;">General
                    Issues:</label><br><br>

                <label style="font-weight: 500; color: rgb(255, 255, 255);">Why arent my buttons working
                    in-game?</label><br><br>
                <label class="modalOptionLabel">You probably need to stack the button on top of a collection panel, if
                    that doesnt fix it, check that all texture paths are correct</label><br><br>

                <label style="font-weight: 500; color: rgb(255, 255, 255);">Why isnt the form uploader
                    working?</label><br><br>
                <label class="modalOptionLabel">The form uploader can only upload forms made by the website</label>
            </div>
        </div>
    </div>
    <!--------------->

    <!-- The Choose Image Modal -->
    <div id="modalChooseImage" class="modal">
        <div class="modal-content">
            <span id="modalChooseImageClose" class="modalClose">&times;</span>
            <h2 class="modalHeader">Choose Image</h2>
            <img src="icons/nineslice.webp" style="width: 20px; position: relative; top: 5px; left: 5px;">
            <label style="font-weight: 500; color: rgb(255, 255, 255);">: Nineslice Image</label>
            <div class="modalChooseImageForm">

            </div>
        </div>
    </div>
    <!--------------->

    <div class="main">
        <div class="buttons">
            <div class="addElements">
                Elements:
                <button type="button" onclick="Builder.addPanel()">Add panel</button>

                <button type="button" onclick="Builder.openAddImageMenu()">Add image</button>
                <button type="button" onclick="Builder.addButton()">Add button</button>
                <button type="button" onclick="Builder.addCollectionPanel()">Add Collection Panel</button>
                <button type="button" onclick="Builder.addLabel()">Add Label</button>
                <button type="button" onclick="Builder.addScrollingPanel()">Add Scrolling Panel</button>
            </div>

            <div class="breaker"></div>

            <div class="utilElements">
                <button class="utilElement" type="button" onclick="Builder.reset()">Reset <img
                        style="width: 17px; top: 3px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/reset.webp"> </button>
                <button class="utilElement" type="button" onclick="Builder.deleteSelected()">Delete Selected <img
                        style="width: 20px; top: 3px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/bin.webp"> </button>

                <div style="display:flex; flex-direction: row; justify-content: center; align-items: center">
                    <div class="utilElement" style="width: 100%;">Form</div>

                    <img class="utilElement" title="Copy" onclick="Builder.generateAndCopyJsonUI('copy')"
                        style="width: 20px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/clipboard.webp">
                    <img class="utilElement" title="Download" onclick="Builder.generateAndCopyJsonUI('download')"
                        style="width: 20px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        tooltip="Download" src="icons/download.webp">
                </div>

                <div style="display:flex; flex-direction: row; justify-content: center; align-items: center">
                    <div class="utilElement" style="width: 100%;">Server-Form</div>

                    <img class="utilElement" title="Copy" onclick="Builder.downloadServerForm('copy')"
                        style="width: 20px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/clipboard.webp">
                    <img class="utilElement" title="Download" onclick="Builder.downloadServerForm('download')"
                        style="width: 20px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        tooltip="Download" src="icons/download.webp">
                </div>

            </div>

            <div class="breaker"></div>

            <div id="explorer" class="explorer"></div>

        </div>

        <div class="main_window_outline">
            <div class="main_window" id="main_window">
                <img title="Background" src="background.png" width="100%" height="100%" class="bg_image" id="bg_image">

                </img>
            </div>
        </div>

        <div class="scripter">
            <div class="scripter_title_label">Script</div>

            <div style="color: rgb(139, 139, 139);">For Fixed Collection Index Forms Only</div>
            <div class="scripter_buttons">
                <button class="generate_js_scripter" id="generate_js_scripter">Copy <img
                        style="width: 18px; top: 3px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/js.webp"> To Clipboard</button>
                <button class="generate_ts_scripter" id="generate_ts_scripter">Copy <img
                        style="width: 18px; top: 3px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/ts.webp"> To Clipboard</button>
            </div>

            <br><br><br>

            <div class="scripter_title_label">Bindings</div>
            <div style="color: rgb(139, 139, 139);">Advanced Feature</div>
            <div id="errorMessage" title="Default Error Message" style="visibility: hidden; color: #7e0000;">Warnings ⚠️
            </div>
            <textarea spellcheck="false" readonly class="bindings" id="bindings"></textarea>

            <div style="display:flex; flex-direction: row; justify-content: center; align-items: center">
                <div style="font-size: 20px; color: rgb(39, 165, 255);">TAB</div>&nbsp To indent
                <div onclick="Builder.formatBindingsArea()" style="position: relative; margin-left: 15px;"
                    class="utilElement">Format <img
                        style="width: 20px; top: 3px; position: relative; filter: drop-shadow(0px 0px 5px #000000);"
                        src="icons/curly_brackets.webp"></div>
            </div>
        </div>
    </div>




    <div id="properties" class="properties"></div>

    <div id="notif-container"></div>

    <div id="mainWarningMessage"></div>

    <script src="./dist/index.js" type="module"></script>
</body>

</html>